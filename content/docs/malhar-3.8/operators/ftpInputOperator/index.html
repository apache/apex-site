<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>FTP Input Operator - Apache Apex Malhar Documentation</title>
  

  <link rel="shortcut icon" href="../../favicon.ico">
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "FTP Input Operator";
    var mkdocs_page_input_path = "operators/ftpInputOperator.md";
    var mkdocs_page_url = "/operators/ftpInputOperator/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Apache Apex Malhar Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Apache Apex Malhar</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>APIs</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../apis/calcite/">SQL</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Operators</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../block_reader/">Block Reader</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../csvformatter/">CSV Formatter</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../csvParserOperator/">CSV Parser</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../deduper/">Deduper</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../enricher/">Enricher</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../fsInputOperator/">File Input</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../file_output/">File Output</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../file_splitter/">File Splitter</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../filter/">Filter</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../fixedWidthParserOperator/">Fixed Width Parser</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">FTP Input Operator</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#ftp-input-operator">FTP Input Operator</a></li>
                
                    <li><a class="toctree-l4" href="#operator-objective">Operator Objective</a></li>
                
                    <li><a class="toctree-l4" href="#class-diagram">Class Diagram</a></li>
                
                    <li><a class="toctree-l4" href="#operator-information">Operator Information</a></li>
                
                    <li><a class="toctree-l4" href="#partitioning">Partitioning</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../AbstractJdbcTransactionableOutputOperator/">Jdbc Output Operator</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../jdbcPollInputOperator/">JDBC Poller Input</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../jmsInputOperator/">JMS Input</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../jsonFormatter/">JSON Formatter</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../jsonParser/">JSON Parser</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../kafkaInputOperator/">Kafka Input</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../regexparser/">Regex Parser</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../s3outputmodule/">S3 Output Module</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../transform/">Transformer</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../windowedOperator/">Windowed Operator</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../xmlParserOperator/">XML Parser</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Apache Apex Malhar Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Operators &raquo;</li>
        
      
    
    <li>FTP Input Operator</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="ftp-input-operator">FTP Input Operator</h1>
<h2 id="operator-objective">Operator Objective</h2>
<p>This operator(<code>AbstractFTPInputOperator</code>) is designed to scan a directory from an FTP server for files, read
and split file content into tuples such as lines or blocks of bytes, and finally
emit them on the output port for further processing by downstream operators.
The operator extends the <code>AbstractFileInputOperator</code>. It overrides the
getFSInstance() method and returns an instance of the FTPFileSystem
(<code>org.apache.hadoop.fs.ftp.FTPFileSystem</code>)</p>
<h2 id="class-diagram">Class Diagram</h2>
<p><img alt="FTPInputOperator class diagram" src="../images/ftpInputOperator/classdiagram.png" /></p>
<h2 id="operator-information">Operator Information</h2>
<ol>
<li>Operator location : <strong><em>malhar-lib</em></strong></li>
<li>Available since : <strong><em>2.0.0</em></strong></li>
<li>Java Package : <a href="https://github.com/apache/apex-malhar/blob/master/library/src/main/java/com/datatorrent/lib/io/AbstractFTPInputOperator.java">com.datatorrent.lib.io</a></li>
</ol>
<h3 id="ports">Ports</h3>
<p>Because this is an input operator, there are no input ports.</p>
<table>
<thead>
<tr>
<th>Port</th>
<th>Description</th>
<th>Type</th>
<th>Mandatory</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>output</em></td>
<td>output port on which data is emitted</td>
<td>String</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<h3 id="configuration">Configuration</h3>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Type</th>
<th>Mandatory</th>
<th>Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>host</em></td>
<td>the hostname of the FTP Server</td>
<td>String</td>
<td>Yes</td>
<td>N/A</td>
</tr>
<tr>
<td><em>source</em></td>
<td>the directory path from where to scan and read files</td>
<td>String</td>
<td>Yes</td>
<td>N/A</td>
</tr>
<tr>
<td><em>username</em></td>
<td>the username for authenticating against the FTP server. This is an optional property and can be skipped when anonymous FTP is enabled</td>
<td>String</td>
<td>Yes</td>
<td>N/A</td>
</tr>
<tr>
<td><em>password</em></td>
<td>the password to be used in conjunction with the above username</td>
<td>String</td>
<td>Yes</td>
<td>N/A</td>
</tr>
</tbody>
</table>
<h2 id="partitioning">Partitioning</h2>
<h4 id="static-partitioning">Static Partitioning</h4>
<p>Configure parameter <code>partitionCount</code> to define the desired number of initial partitions
(4 in this example).</p>
<pre><code class="xml">&lt;property&gt;
  &lt;name&gt;dt.operator.{OperatorName}.prop.partitionCount&lt;/name&gt;
  &lt;value&gt;4&lt;/value&gt;
&lt;/property&gt;
</code></pre>

<p>Alternatively, this can be changed in the application code by setting the operator property <code>partitionCount</code> to the desired number of partitions:</p>
<pre><code class="java">FTPStringInputOperator reader = dag.addOperator(&quot;Reader&quot;, new FTPStringInputOperator());
reader.setPartitionCount(4);
</code></pre>

<h4 id="dynamic-partitioning">Dynamic Partitioning</h4>
<p>Dynamic partitioning -- changing the number of partitions of one or more operators
in a running application -- can be achieved in multiple ways:
- Use the command line tool <code>apex</code> or the UI console to change the value of the
  <code>partitionCount</code> property of the running operator. This change is detected in
  <code>processStats()</code> (which is invoked periodically by the platform) where, if the
  current partition count (<code>currentPartitions</code>) and the desired partition count
  (<code>partitionCount</code>) differ, the <code>repartitionRequired</code> flag in the response is set.
  This causes the platform to invoke <code>definePartitions()</code> to create a new set of
  partitions with the desired count.
- Override <code>processStats()</code> and within it, based on the statistics in the
  incoming parameter or any other factors, define a new desired value of
  <code>partitionCount</code> and finally, if this value differs from the current partition
  count, set the <code>repartitionRequired</code> flag in the response.</p>
<h3 id="example-application">Example application</h3>
<p>An example application for the FTP input operator can be found at <a href="https://github.com/apache/apex-malhar/tree/master/examples/ftp">https://github.com/apache/apex-malhar/tree/master/examples/ftp</a></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../AbstractJdbcTransactionableOutputOperator/" class="btn btn-neutral float-right" title="Jdbc Output Operator">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../fixedWidthParserOperator/" class="btn btn-neutral" title="Fixed Width Parser"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../fixedWidthParserOperator/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../AbstractJdbcTransactionableOutputOperator/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
